<Window x:Class="Ide.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Ide"
        mc:Ignorable="d"
        Title="Ide IDE"
        MinWidth="600" MinHeight="400"
        Icon="Resources/Logo/Logo.ico"
        Closing="Exit">
    <Window.Resources>
        <Style x:Key="EnableDisableImageStyle" TargetType="{x:Type Image}">
            <Style.Triggers>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Opacity" Value="0.25"/>
                </Trigger>
            </Style.Triggers>
        </Style>
    </Window.Resources>
    
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="auto"/>
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="200"/>
            <ColumnDefinition Width="auto"/>
            <ColumnDefinition Width="*"/>
            <ColumnDefinition Width="auto"/>
        </Grid.ColumnDefinitions>

        <!--Menu-->
        <StackPanel Grid.ColumnSpan="3">
            <Menu>
                <MenuItem Header="File">
                    <MenuItem Header="Create Project..." IsEnabled="{Binding ElementName=ProjectTree, Path=HasItems, Converter={StaticResource InvertBoolConverter}}"  Click="CreateProject">
                        <MenuItem.Icon>
                            <Image Source="Resources/NewFileCollection_16x.png" Style="{StaticResource EnableDisableImageStyle}"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Header="Close Project" Click="CloseProject">
                        <MenuItem.Style>
                            <Style TargetType="{x:Type MenuItem}">
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ElementName=ProjectTree, Path=SelectedItem}" Value="{x:Null}">
                                        <Setter Property="IsEnabled" Value="False"/>
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </MenuItem.Style>
                        <MenuItem.Icon>
                            <Image Source="Resources/DeleteFolder_16x.png" Style="{StaticResource EnableDisableImageStyle}"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <Separator/>
                    <MenuItem Header="Save Current File">
                        <MenuItem.Icon>
                            <Image Source="Resources/Save_16x.png"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Header="Save Current File As...">
                        <MenuItem.Icon>
                            <Image Source="Resources/SaveAs_16x.png"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Header="Save All">
                        <MenuItem.Icon>
                            <Image Source="Resources/SaveAll_16x.png"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <Separator/>
                    <MenuItem Header="Exit" Click="Exit">
                        <MenuItem.Icon>
                            <Image Source="Resources/Close_16x.png"/>
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>

                <MenuItem Header="Edit">
                    <MenuItem Header="Undo">
                        <MenuItem.Icon>
                            <Image Source="Resources/Undo_16x.png"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <MenuItem Header="Redo">
                        <MenuItem.Icon>
                            <Image Source="Resources/Redo_16x.png"/>
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>

                <MenuItem Header="View">
                    <MenuItem Header="Word Wrap" IsCheckable="True" IsChecked="{Binding ElementName=TextEditor, Path=TextWrapping, Converter={StaticResource TextWrapConverter}}"/>
                </MenuItem>

                <MenuItem Header="Tools">
                    <MenuItem Header="Build" IsEnabled="False" Opacity="0.25">
                        <MenuItem.Icon>
                            <Image Source="Resources/BuildSolution_16x.png"/>
                        </MenuItem.Icon>
                    </MenuItem>
                    <Separator/>
                    <MenuItem Header="Settings" Click="OpenSettings">
                        <MenuItem.Icon>
                            <Image Source="Resources/Settings_16x.png"/>
                        </MenuItem.Icon>
                    </MenuItem>
                </MenuItem>
            </Menu>

            <!--Tool Bar-->
            <ToolBarTray>
                <ToolBar>
                    <Button IsEnabled="{Binding ElementName=ProjectTree, Path=HasItems}" Click="CreateFile">
                        <Image Source="Resources/NewFile_16x.png" ToolTip="New File" Style="{StaticResource EnableDisableImageStyle}"/>
                    </Button>
                    <Button IsEnabled="{Binding ElementName=ProjectTree, Path=SelectedItem, Converter={StaticResource IsNotProjectConverter}}" Click="DeleteFile">
                        <Image Source="Resources/NoResults_16x.png" ToolTip="Remove File" Style="{StaticResource EnableDisableImageStyle}"/>
                    </Button>
                    <Separator/>
                    <Button>
                        <Image Source="Resources/Save_16x.png" ToolTip="Save"/>
                    </Button>
                    <Button>
                        <Image Source="Resources/SaveAll_16x.png" ToolTip="Save All"/>
                    </Button>
                    <Separator/>
                    <Button>
                        <Image Source="Resources/Undo_16x.png" ToolTip="Undo"/>
                    </Button>
                    <Button>
                        <Image Source="Resources/Redo_16x.png" ToolTip="Redo"/>
                    </Button>
                </ToolBar>
                <!--More toolbars here that can be moved around by user-->
            </ToolBarTray>
        </StackPanel>


        <!--Folder Structure View-->
        <TreeView Name="ProjectTree" Grid.Row="1" BorderThickness="0" SelectedItemChanged="ProjectItemSelected" TreeViewItem.Expanded="ProjectTreeFolderExpanded" TreeViewItem.Collapsed="ProjectTreeFolderCollapsed"/>

        <!--Resize Splitters-->
        <GridSplitter Grid.Row="1" Grid.Column="1" Grid.RowSpan="3" Width="2" HorizontalAlignment="Stretch" Background="LightGray"/>
        <GridSplitter Grid.Row="2" Height="2" HorizontalAlignment="Stretch" Background="LightGray"/>

        <!--Hierarchy View-->
        <ListView Name="MethodList" Grid.Row="3" BorderThickness="0" SelectionChanged="MethodSelected"/>

        <!--Text Editor-->
        <TabControl Grid.Column="2" Grid.Row="1" Grid.RowSpan="3" BorderThickness="0,1,0,0">
            <TabItem Header="No File" FontStyle="Italic">
                <TextBox Name="TextEditor" FontStyle="Normal" BorderThickness="0" VerticalScrollBarVisibility="Visible" HorizontalScrollBarVisibility="Auto" AcceptsReturn="True" AcceptsTab="True"/>
            </TabItem>
        </TabControl>

        <!--Status Bar-->
        <StatusBar Grid.Row="4" Grid.ColumnSpan="3">
            <StatusBarItem Content="Status:"/>
        </StatusBar>
    </Grid>
</Window>
